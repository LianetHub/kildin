(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e={preventRunning:!0,prefetchIgnore:!0,transitions:[{name:"base",async leave(e){await function(e){let t=e.trigger.closest(".navigation__item");return t||(t=document.querySelector(".navigation__item")),document.querySelector(".navigation").classList.add("pending"),gsap.to(t,{width:"100%",duration:.5,ease:"power2.in"}).then((()=>{!function(e){document.querySelectorAll(".navigation__item").forEach((e=>{e.classList.remove("active")})),e&&e.classList.add("active"),o()}(e.trigger.closest(".navigation__item"))}))}(e),e.current.container.remove()},async enter(e){await function(){let e=document.querySelector(".navigation__item.active");return e||(e=document.querySelector(".navigation__item")),gsap.to(e,{width:"auto",duration:.5,ease:"power2.out"}).then((()=>{document.querySelector(".navigation").classList.remove("pending")}))}(e.next.container)},async afterEnter(){document.querySelectorAll("video").forEach((e=>{var t=e.play();void 0!==t&&t.then((e=>{})).catch((e=>{}))})),n()}}]};function t(){window.innerWidth<768?barba.destroy():barba.init(e)}function n(){document.querySelector("#map")&&L.map("map",{center:[51.505,-.09],zoom:13})}function o(){const e=document.querySelectorAll(".navigation__item"),t=document.querySelector(".navigation__item:not(.active):not(:first-child)").getBoundingClientRect().width;let n=e.length*t,o=0;e.forEach(((i,c)=>{let r=c+1;i.classList.contains("active")&&(n=(e.length-r)*t,o=r*t)})),document.body.style.setProperty("--padding-wrapper-right",`${n}px`),document.body.style.setProperty("--padding-wrapper-left",`${o}px`)}t(),o(),n(),"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),document.querySelectorAll(".popup__slider")&&document.querySelectorAll(".popup__slider").forEach((e=>{let t=e.querySelector(".popup__next"),n=e.querySelector(".popup__prev");new Swiper(e,{speed:800,slidesPerView:1,navigation:{nextEl:t,prevEl:n}})})),window.addEventListener("resize",(()=>{o(),t()})),document.addEventListener("click",(e=>{e.target.closest(".icon-menu")&&(document.querySelector(".navigation").classList.toggle("open"),devFuctions.toggleLocking(),document.querySelector(".icon-menu").classList.toggle("active"))})),document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),n=e.querySelector(".dropdown__list"),o=n.querySelectorAll(".dropdown__list-item"),i=e.querySelector(".dropdown__input");t.addEventListener("click",(function(){n.classList.toggle("visible"),this.classList.toggle("active")})),o.forEach((function(e){e.addEventListener("click",(function(e){e.target.querySelector(".dropdown__checkbox")||e.target.closest(".dropdown__checkbox")?e.stopPropagation():(o.forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active"),t.innerHTML=this.innerHTML,t.classList.add("selected"),t.classList.remove("active"),i.value=this.dataset.value,n.classList.remove("visible"))}))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("active"),n.classList.remove("visible"))}))}))}))})();