(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{function e(){const e=document.querySelectorAll(".navigation__item"),t=document.querySelector(".navigation__item:not(.active):not(:first-child)").getBoundingClientRect().width;let n=e.length*t,i=0;e.forEach(((a,l)=>{let o=l+1;a.classList.contains("active")&&(n=(e.length-o)*t,i=o*t)})),document.body.style.setProperty("--padding-wrapper-right",`${n}px`),document.body.style.setProperty("--padding-wrapper-left",`${i}px`)}function t(){document.querySelector("#map")&&L.map("map",{center:[51.505,-.09],zoom:13}),document.querySelectorAll(".popup__slider")&&document.querySelectorAll(".popup__slider").forEach((e=>{let t=e.querySelector(".popup__next"),n=e.querySelector(".popup__prev");new Swiper(e,{speed:800,slidesPerView:1,navigation:{nextEl:t,prevEl:n}})})),"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),document.querySelectorAll("select[multiple]").forEach((e=>{var t=e.querySelectorAll("option"),n=document.createElement("div");n.classList.add("selectMultiple");var i=document.createElement("div");i.classList.add("active");var a=document.createElement("ul"),l=e.dataset.placeholder,o=document.createElement("span");o.innerText=l,i.appendChild(o),t.forEach((e=>{let t=e.innerText;if(e.selected){let n=document.createElement("a");n.dataset.value=e.value,n.innerHTML="<em>"+t+"</em><i></i>",i.appendChild(n),o.classList.add("hide")}else{let n=document.createElement("li");n.dataset.value=e.value,n.innerHTML=t,a.appendChild(n)}}));var s=document.createElement("div");s.classList.add("arrow"),i.appendChild(s),n.appendChild(i),n.appendChild(a),e.parentElement.append(n),o.appendChild(e)})),document.querySelectorAll(".selectMultiple ul").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.closest("li");if(!t)return;let n=t.closest(".selectMultiple");if(!n.classList.contains("clicked")){n.classList.add("clicked"),t.previousElementSibling&&t.previousElementSibling.classList.add("beforeRemove"),t.nextElementSibling&&t.nextElementSibling.classList.add("afterRemove"),t.classList.add("remove");let e=document.createElement("a");e.dataset.value=t.dataset.value,e.innerHTML="<em>"+t.innerText+"</em><i></i>",e.classList.add("notShown"),n.querySelector("div").appendChild(e),n.querySelector("select").querySelector('option[value="'+t.dataset.value+'"]').setAttribute("selected","selected"),setTimeout((()=>{e.classList.add("shown"),n.querySelector("span").classList.add("hide")}),300),setTimeout((()=>{let e=window.getComputedStyle(t),i=e.height,a=e.padding;t.animate([{height:i,padding:a},{height:"0px",padding:"0px"}],{duration:300,easing:"ease-in-out"}).onfinish=()=>{t.previousElementSibling&&t.previousElementSibling.classList.remove("beforeRemove"),t.nextElementSibling&&t.nextElementSibling.classList.remove("afterRemove"),t.remove(),n.classList.remove("clicked")}}),300)}}))})),document.querySelectorAll(".selectMultiple > div").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.closest("a"),n=e.target.closest(".selectMultiple");if(!t)return;t.className="",t.classList.add("remove"),n.classList.add("open");let i=n.querySelector("select");i.querySelector('option[value="'+t.dataset.value+'"]').removeAttribute("selected"),t.classList.add("disappear"),setTimeout((()=>{let e=window.getComputedStyle(t),a=e.padding,l=e.width,o=e.height,s=t.animate([{width:l,height:o,padding:a},{width:"0px",height:"0px",padding:"0px"}],{duration:0,easing:"ease-in-out"}),c=document.createElement("li");c.dataset.value=t.dataset.value,c.innerText=t.querySelector("em").innerText,c.classList.add("show"),n.querySelector("ul").appendChild(c),setTimeout((()=>{i.selectedOptions.length||n.querySelector("span").classList.remove("hide"),c.className=""}),350),s.onfinish=()=>{t.remove()}}),300)}))})),document.querySelectorAll(".selectMultiple > div .arrow, .selectMultiple > div span").forEach((e=>{e.addEventListener("click",(t=>{e.closest(".selectMultiple").classList.toggle("open")}))}))}barba.init({preventRunning:!0,prefetchIgnore:!0,transitions:[{name:"base",async leave(t){window.innerWidth<767&&barba.go(t.trigger.href),await function(t){let n=t.trigger.closest(".navigation__item");return n||(n=document.querySelector(".navigation__item")),document.querySelector(".navigation").classList.add("pending"),gsap.to(n,{width:"100%",duration:.5,ease:"power2.in"}).then((()=>{!function(t){document.querySelectorAll(".navigation__item").forEach((e=>{e.classList.remove("active")})),t&&t.classList.add("active"),e()}(t.trigger.closest(".navigation__item"))}))}(t),t.current.container.remove()},async enter(e){await function(){let e=document.querySelector(".navigation__item.active");return e||(e=document.querySelector(".navigation__item")),gsap.to(e,{width:"auto",duration:.5,ease:"power2.out"}).then((()=>{document.querySelector(".navigation").classList.remove("pending")}))}(e.next.container)},async afterEnter(){document.querySelectorAll("video").forEach((e=>{var t=e.play();void 0!==t&&t.then((e=>{})).catch((e=>{}))})),t()}}]}),e(),t(),window.addEventListener("resize",(()=>{e()})),document.addEventListener("click",(e=>{e.target.closest(".icon-menu")&&(document.querySelector(".navigation").classList.toggle("open"),function(e){const t=document.body;let n,i="lock";t.classList.contains(i)?(n=parseInt(document.body.dataset.position,10),t.dataset.position=n,t.style.top=-n+"px"):(n=window.scrollY,t.style.top="auto",window.scroll({top:n,left:0}),document.body.removeAttribute("data-position"));let a=t.classList.contains(i)?"0px":window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.paddingRight=a,t.classList.toggle(i)}(),document.querySelector(".icon-menu").classList.toggle("active"))}))}))})();